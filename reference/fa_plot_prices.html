<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Plot Price Summary — fa_plot_prices • flightanalysis</title><!-- favicons --><link rel="icon" type="image/png" sizes="96x96" href="../favicon-96x96.png"><link rel="icon" type="”image/svg+xml”" href="../favicon.svg"><link rel="apple-touch-icon" sizes="180x180" href="../apple-touch-icon.png"><link rel="icon" sizes="any" href="../favicon.ico"><link rel="manifest" href="../site.webmanifest"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Plot Price Summary — fa_plot_prices"><meta name="description" content='Creates a modern line plot showing price trends across dates for different
origins or destinations. The function automatically detects whether to group
by origin or destination based on the data structure:
When there are multiple origins and a single destination, groups by origin
When there is a single origin and multiple destinations, groups by destination
When there are multiple origins AND multiple destinations, you must specify
    the plot_by parameter to choose which dimension to use for grouping


The legend title automatically updates to "Origin" or "Destination" accordingly.
Requires flight_results objects from fa_fetch_flights.
This function no longer accepts pre-summarized data or data frames.
Uses ggplot2 for a polished, publication-ready aesthetic with colorblind-friendly
colors and clear typography.'><meta property="og:description" content='Creates a modern line plot showing price trends across dates for different
origins or destinations. The function automatically detects whether to group
by origin or destination based on the data structure:
When there are multiple origins and a single destination, groups by origin
When there is a single origin and multiple destinations, groups by destination
When there are multiple origins AND multiple destinations, you must specify
    the plot_by parameter to choose which dimension to use for grouping


The legend title automatically updates to "Origin" or "Destination" accordingly.
Requires flight_results objects from fa_fetch_flights.
This function no longer accepts pre-summarized data or data frames.
Uses ggplot2 for a polished, publication-ready aesthetic with colorblind-friendly
colors and clear typography.'><meta property="og:image" content="https://rempsyc.github.io/flightanalysis/logo.png"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">flightanalysis</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">3.0.1</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/rempsyc/flightanalysis/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Plot Price Summary</h1>
      <small class="dont-index">Source: <a href="https://github.com/rempsyc/flightanalysis/blob/main/R/fa_plot_prices.R" class="external-link"><code>R/fa_plot_prices.R</code></a></small>
      <div class="d-none name"><code>fa_plot_prices.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Creates a modern line plot showing price trends across dates for different
origins or destinations. The function automatically detects whether to group
by origin or destination based on the data structure:</p><ul><li><p>When there are multiple origins and a single destination, groups by origin</p></li>
<li><p>When there is a single origin and multiple destinations, groups by destination</p></li>
<li><p>When there are multiple origins AND multiple destinations, you must specify
    the <code>plot_by</code> parameter to choose which dimension to use for grouping</p></li>
</ul><p>The legend title automatically updates to "Origin" or "Destination" accordingly.</p>
<p>Requires flight_results objects from <code><a href="fa_fetch_flights.html">fa_fetch_flights</a></code>.
This function no longer accepts pre-summarized data or data frames.</p>
<p>Uses ggplot2 for a polished, publication-ready aesthetic with colorblind-friendly
colors and clear typography.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">fa_plot_prices</span><span class="op">(</span></span>
<span>  <span class="va">flight_results</span>,</span>
<span>  plot_by <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  title <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  subtitle <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  size_by <span class="op">=</span> <span class="st">"travel_time"</span>,</span>
<span>  annotate_col <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  use_ggrepel <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  show_max_annotation <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  show_min_annotation <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  x_axis_angle <span class="op">=</span> <span class="fl">0</span>,</span>
<span>  drop_empty_dates <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  highlight_extremes <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-flight-results">flight_results<a class="anchor" aria-label="anchor" href="#arg-flight-results"></a></dt>
<dd><p>A flight_results object from [fa_fetch_flights()].</p></dd>


<dt id="arg-plot-by">plot_by<a class="anchor" aria-label="anchor" href="#arg-plot-by"></a></dt>
<dd><p>Character. Specifies how to group the data: "origin" or "destination".
When NULL (default), automatically detected based on data structure. Required when
there are multiple origins AND multiple destinations.</p></dd>


<dt id="arg-title">title<a class="anchor" aria-label="anchor" href="#arg-title"></a></dt>
<dd><p>Character. Plot title. Default is NULL (auto-generated with flight context).</p></dd>


<dt id="arg-subtitle">subtitle<a class="anchor" aria-label="anchor" href="#arg-subtitle"></a></dt>
<dd><p>Character. Plot subtitle. Default is NULL (auto-generated with lowest price info).</p></dd>


<dt id="arg-size-by">size_by<a class="anchor" aria-label="anchor" href="#arg-size-by"></a></dt>
<dd><p>Character. Name of column from raw flight data to use for
point sizing. Can be "price", a column name like "travel_time",
or NULL for uniform sizing (default). When using a column name, only works when passing
raw flight data, not summary tables. Default is NULL.</p></dd>


<dt id="arg-annotate-col">annotate_col<a class="anchor" aria-label="anchor" href="#arg-annotate-col"></a></dt>
<dd><p>Character. Name of column from raw flight data to use for
point annotations (e.g., "travel_time", "num_stops"). Only works when passing
raw flight data, not summary tables. Default is NULL (no annotations).</p></dd>


<dt id="arg-use-ggrepel">use_ggrepel<a class="anchor" aria-label="anchor" href="#arg-use-ggrepel"></a></dt>
<dd><p>Logical. If TRUE, uses ggrepel for non-overlapping label
positioning (requires ggrepel package). If FALSE, labels are centered on points
and may overlap when there are many data points. Default is TRUE.</p></dd>


<dt id="arg-show-max-annotation">show_max_annotation<a class="anchor" aria-label="anchor" href="#arg-show-max-annotation"></a></dt>
<dd><p>Logical. If TRUE, adds a data-journalism-style
annotation for the maximum price with a horizontal bar and formatted price label.
The annotation is subtle and clean (no arrows or boxes). Default is TRUE.</p></dd>


<dt id="arg-show-min-annotation">show_min_annotation<a class="anchor" aria-label="anchor" href="#arg-show-min-annotation"></a></dt>
<dd><p>Logical. If TRUE, adds a data-journalism-style
annotation for the minimum price with a horizontal bar and formatted price label.
The annotation is subtle and clean (no arrows or boxes). Default is FALSE.</p></dd>


<dt id="arg-x-axis-angle">x_axis_angle<a class="anchor" aria-label="anchor" href="#arg-x-axis-angle"></a></dt>
<dd><p>Numeric. Angle in degrees to rotate x-axis labels for better
readability in wide figures with many dates. Common values are 45 (diagonal) or
90 (vertical). Default is 0 (horizontal labels).</p></dd>


<dt id="arg-drop-empty-dates">drop_empty_dates<a class="anchor" aria-label="anchor" href="#arg-drop-empty-dates"></a></dt>
<dd><p>Logical. If TRUE, removes dates that have no flight data
(all NA prices) from the plot. This is useful when querying multiple airports
where some may not have data for certain dates. Default is TRUE.</p></dd>


<dt id="arg-highlight-extremes">highlight_extremes<a class="anchor" aria-label="anchor" href="#arg-highlight-extremes"></a></dt>
<dd><p>Logical. If TRUE, highlights the lowest and highest
price points by filling them with distinct colorblind-friendly colors
(bluish green for lowest, vermillion for highest). Default is TRUE.</p></dd>


<dt id="arg--">...<a class="anchor" aria-label="anchor" href="#arg--"></a></dt>
<dd><p>Additional arguments passed to <code><a href="fa_summarize_prices.html">fa_summarize_prices</a></code>,
including <code>excluded_airports</code> to filter out specific airport codes.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>A ggplot2 plot object that can be further customized or saved.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span> <span class="co"># \dontrun{</span></span></span>
<span class="r-in"><span><span class="co"># Basic plot with auto-generated title and subtitle</span></span></span>
<span class="r-in"><span><span class="fu">fa_plot_prices</span><span class="op">(</span><span class="va">sample_flight_results</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># With point size based on travel time and annotations</span></span></span>
<span class="r-in"><span><span class="fu">fa_plot_prices</span><span class="op">(</span><span class="va">sample_flight_results</span>,</span></span>
<span class="r-in"><span>               size_by <span class="op">=</span> <span class="st">"travel_time"</span>,</span></span>
<span class="r-in"><span>               annotate_col <span class="op">=</span> <span class="st">"num_stops"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Size by number of stops</span></span></span>
<span class="r-in"><span><span class="fu">fa_plot_prices</span><span class="op">(</span><span class="va">sample_flight_results</span>,</span></span>
<span class="r-in"><span>               size_by <span class="op">=</span> <span class="st">"num_stops"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># With annotations centered on points (no ggrepel)</span></span></span>
<span class="r-in"><span><span class="fu">fa_plot_prices</span><span class="op">(</span><span class="va">sample_flight_results</span>,</span></span>
<span class="r-in"><span>               size_by <span class="op">=</span> <span class="st">"travel_time"</span>,</span></span>
<span class="r-in"><span>               annotate_col <span class="op">=</span> <span class="st">"travel_time"</span>,</span></span>
<span class="r-in"><span>               use_ggrepel <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Custom title and both price annotations</span></span></span>
<span class="r-in"><span><span class="fu">fa_plot_prices</span><span class="op">(</span><span class="va">sample_flight_results</span>,</span></span>
<span class="r-in"><span>               title <span class="op">=</span> <span class="st">"Custom Title"</span>,</span></span>
<span class="r-in"><span>               show_max_annotation <span class="op">=</span> <span class="cn">TRUE</span>,</span></span>
<span class="r-in"><span>               show_min_annotation <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Tilt x-axis labels diagonally for wide figures</span></span></span>
<span class="r-in"><span><span class="fu">fa_plot_prices</span><span class="op">(</span><span class="va">sample_flight_results</span>, x_axis_angle <span class="op">=</span> <span class="fl">45</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Default behavior: filter out dates with no flight data</span></span></span>
<span class="r-in"><span><span class="co"># Set drop_empty_dates = FALSE to keep all dates including empty ones</span></span></span>
<span class="r-in"><span><span class="fu">fa_plot_prices</span><span class="op">(</span><span class="va">sample_flight_results</span>, drop_empty_dates <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Disable highlighting of lowest/highest price points</span></span></span>
<span class="r-in"><span><span class="fu">fa_plot_prices</span><span class="op">(</span><span class="va">sample_flight_results</span>, highlight_extremes <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span> <span class="co"># }</span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Rémi Thériault, Kaya Celebi.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.2.0.</p>
</div>

    </footer></div>





  </body></html>

